<mvc:View controllerName="logaligroup.SAPUI5.controller.InvoicesList"
          xmlns="sap.m"
          xmlns:mvc="sap.ui.core.mvc">
    <List id="invoiceList"
        headerText="{i18n>invoiceListTitle}"
        class="sapUiResponsiveMargin"
        width="auto"
        items="{path: 'invoices>/Invoices',
                sorter: [{path: 'ShipperName', group: true},
                         {path: 'ProductName'}]
                }">
        <headerToolbar>
            <Toolbar >
                <Title text="{i18n>invoiceListTitle}"/>
                <ToolbarSpacer/>
                <SearchField width="50%"
                             search=".onFilterInvoices">
                </SearchField>
            </Toolbar>
        </headerToolbar>
        <items>
            <ObjectListItem title="{invoices>Quantity} x {invoices>ProductName}"
                            number="{ parts: [{path: 'invoices>ExtendedPrice'},
                                               {path: 'currency>/eur'}],
                                      type: 'sap.ui.model.type.Currency', 
                                      formatOptions: {
                                          showMeasure: false
                                      }}"
                            numberUnit="{currency>/eur}"
                            numberState="{= ${invoices>ExtendedPrice} > 50 ? 'Success' : 'Error'}">
                <firstStatus>
                    <ObjectStatus text="{path: 'invoices>Status',
                                        formatter: '.formatter.invoiceStatus'}"></ObjectStatus>
                </firstStatus>
            </ObjectListItem>

        </items>
    </List>
</mvc:View>

<!--
    type: 'sap.ui.model.type.Currency' redondea el precio
    showMeasure: false hace que no me muestre el tipo de moneda. Con numberUnit hacemos que se vea el tipo de moneda de una forma mas "linda"
    numberState="{= ${invoices>ExtendedPrice} > 50 ? 'Success' : 'Error'}" Con sy ternaria talque si el precio es > 50 sale en verde, sino en rojo
    formatter: '.formatter.invoiceStatus' me devuelve el estado correspondiente de InvoicesFormatter.js, cuyos nombres de estado fueron definidos en el i18n
-->